{"attrs":{"x":0,"y":0,"outputs":{"image":{"uid":"175f56b246f-3ab2-3b49-fc7c-1875","key":"image"}}},"nodes":[{"key":"other-js-code-output","x":-404.5,"y":-1.75,"uid":"175f56ae5db-8a8a-fddd-6d35-7f02","inputs":{},"forms":{"code":"return {\r\n    //数据\r\n    data:[\r\n        0,1,\r\n        1,0,\r\n        \r\n        1,0,\r\n        0,1\r\n    ],\r\n    // 宽度\r\n    width:2,\r\n    // 高度\r\n    height:2,\r\n    // 深度\r\n    depth:2\r\n};"},"level":1,"outputs":{"out":{"data":[0,1,1,0,1,0,0,1],"width":2,"height":2,"depth":2}},"cache":{}},{"key":"voxel-mat-view","x":-405.5,"y":-134.75,"uid":"175f56b15fb-513b-272e-6e38-996f","inputs":{},"forms":{},"level":1,"outputs":{"mat":{"0":-0.00854598917067051,"1":0.009388525038957596,"2":-0.9999188184738159,"3":0,"4":0.999930739402771,"5":-0.008044019341468811,"6":-0.008621974848210812,"7":0,"8":-0.008123873732984066,"9":-0.9999234080314636,"10":-0.009319407865405083,"11":0,"12":0,"13":0,"14":0,"15":1}},"cache":{}},{"key":"voxel-render-code","x":-76.5,"y":-84.75,"uid":"175f56b246f-3ab2-3b49-fc7c-1875","inputs":{"mat":{"uid":"175f56b15fb-513b-272e-6e38-996f","key":"mat"},"voxel":{"uid":"175f56ae5db-8a8a-fddd-6d35-7f02","key":"out"}},"forms":{"code":"#include voxel-base;\n\n//投射步数\nfloat step_num = 500.0;\n\nvoid run(){\n\t//根据步数获取投射信息\n\tRay ray = getRay(step_num);\n\t//循环步进\n\tfor(float i = 0.0;i < step_num;i++){\n\t\tray.pos += ray.step;\n\t\t//当碰到实体时输出深度\n\t\tif(getValue(ray.pos) > 0.0){\n\t\t\tfloat c = i / step_num;\n\t\t\tc = 1.0 - c;\n\t\t\toutColor = vec4(c,c,c,1);\n\t\t\treturn;\n\t\t}\n\t}\n}"},"level":0,"outputs":{"image":{"data":{},"type":"texture","width":480,"height":480,"gl":{"QUERY_COUNTER_BITS":34916,"TIME_ELAPSED":35007,"TIMESTAMP":36392,"GPU_DISJOINT":36795,"TEXTURE_MAX_ANISOTROPY":34046,"MAX_TEXTURE_MAX_ANISOTROPY":34047,"COMPRESSED_RGB_S3TC_DXT1_EXT":33776,"COMPRESSED_RGBA_S3TC_DXT1_EXT":33777,"COMPRESSED_RGBA_S3TC_DXT3_EXT":33778,"COMPRESSED_RGBA_S3TC_DXT5_EXT":33779,"COMPRESSED_SRGB_S3TC_DXT1_EXT":35916,"COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT":35917,"COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT":35918,"COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT":35919}}},"cache":{}}]}